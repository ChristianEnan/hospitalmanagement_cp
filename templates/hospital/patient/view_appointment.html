{% extends 'hospital/patient/base.html' %}
{% block content %}

<div class="container-fluid py-4">
  <div class="section-header mb-4">
    <h2 style="font-family: 'Playfair Display', serif !important;color:#1a1a2e;margin:0;">
      <i class="fas fa-calendar-alt" style="color:#c9a84c;margin-right:10px;"></i>Your Appointments
    </h2>
    <p class="text-muted mt-1 mb-0">Track your appointment status</p>
  </div>
  <div class="card border-0 shadow-sm">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead style="background:linear-gradient(135deg,#1a1a2e,#0f3460);">
            <tr>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Doctor Name</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Description</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Date</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Status</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Consultation</th>
            </tr>
          </thead>
          <tbody>
            {% for a in appointments %}
            <tr style="transition:all 0.2s;">
              <td style="padding:12px 20px;vertical-align:middle;font-weight:600;">{{a.doctorName}}</td>
              <td style="padding:12px 20px;vertical-align:middle;">{{a.description}}</td>
              <td style="padding:12px 20px;vertical-align:middle;">{{a.appointmentDate}}</td>
              <td style="padding:12px 20px;vertical-align:middle;">
                {% if a.status %}
                <span class="badge" style="background:#2a9d8f;color:#fff;padding:5px 12px;border-radius:15px;"><i class="fas fa-check-circle mr-1"></i>Confirmed</span>
                {% else %}
                <span class="badge" style="background:#c9a84c;color:#1a1a2e;padding:5px 12px;border-radius:15px;"><i class="fas fa-clock mr-1"></i>Pending</span>
                {% endif %}
              </td>
              <td style="padding:12px 20px;vertical-align:middle;">
                {% if a.consultationDate %}
                <span class="badge" style="background:#6C5CE7;color:#fff;padding:5px 10px;border-radius:12px;font-size:12px;">
                  <i class="fas fa-comments mr-1"></i>{{a.consultationDate}} at {{a.consultationTime|time:"h:i A"}}
                </span>
                {% if a.consultationNotes %}
                <br><small class="text-muted" style="font-size:11px;"><i class="fas fa-sticky-note mr-1"></i>{{a.consultationNotes}}</small>
                {% endif %}
                {% else %}
                <span class="text-muted" style="font-size:13px;">Not yet scheduled</span>
                {% endif %}
              </td>
            </tr>
            {% empty %}
            <tr><td colspan="5" class="text-center py-4 text-muted">No appointments found</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
