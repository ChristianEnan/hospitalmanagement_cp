{% extends 'hospital/patient/base.html' %}
{% load static %}
{% block content %}

<div class="container-fluid py-4">
  <div class="section-header mb-4">
    <h2 style="font-family: 'Playfair Display', serif !important;color:#1a1a2e;margin:0;">
      <i class="fas fa-user-md" style="color:#c9a84c;margin-right:10px;"></i>Doctor Directory
    </h2>
    <p class="text-muted mt-1 mb-0">Search and view available doctors</p>
  </div>
  <div class="mb-3">
    <form action="/searchdoctor" method="get">
      <div class="input-group" style="max-width:400px;">
        <input class="form-control" type="search" placeholder="Search doctors..." name="query" id="query" style="border-radius:25px 0 0 25px;border:2px solid #0f3460;border-right:none;height:44px;padding:0 20px;">
        <button class="btn" type="submit" style="background:#0f3460;color:#c9a84c;border-radius:0 25px 25px 0;height:44px;width:50px;border:2px solid #0f3460;display:flex;align-items:center;justify-content:center;"><i class="fas fa-search"></i></button>
      </div>
    </form>
  </div>
  {% if doctors %}
  <div class="card border-0 shadow-sm">
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead style="background:linear-gradient(135deg,#1a1a2e,#0f3460);">
            <tr>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Name</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Photo</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Mobile</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Address</th>
              <th style="color:#c9a84c;padding:15px 20px;font-weight:600;border:none;">Department</th>
            </tr>
          </thead>
          <tbody>
            {% for d in doctors %}
            <tr style="transition:all 0.2s;">
              <td style="padding:12px 20px;vertical-align:middle;font-weight:600;">{{d.get_name}}</td>
              <td style="padding:12px 20px;vertical-align:middle;">{% if d.profile_pic %}<img src="{% static d.profile_pic.url %}" alt="Photo" style="width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #c9a84c;">{% else %}<div style="width:40px;height:40px;border-radius:50%;background:#0f3460;display:inline-flex;align-items:center;justify-content:center;"><i class="fas fa-user-md" style="color:#c9a84c;font-size:16px;"></i></div>{% endif %}</td>
              <td style="padding:12px 20px;vertical-align:middle;">{{d.mobile}}</td>
              <td style="padding:12px 20px;vertical-align:middle;">{{d.address}}</td>
              <td style="padding:12px 20px;vertical-align:middle;"><span class="badge" style="background:#0f3460;color:#c9a84c;padding:5px 12px;border-radius:15px;">{{d.department}}</span></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  {% else %}
  <div class="card border-0 shadow-sm">
    <div class="card-body text-center py-5">
      <i class="fas fa-user-md fa-3x mb-3" style="color:#c9a84c;"></i>
      <h5 style="color:#1a1a2e;font-family: 'Playfair Display', serif !important;">No Doctor Found</h5>
      <p class="text-muted">Try a different search term</p>
    </div>
  </div>
  {% endif %}
</div>

{% endblock content %}
